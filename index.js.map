{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedValue => {\n    const urlParams = new URLSearchParams({\n        key: '45491471-a9703abbe87dc4841cd0b555c',\n        q: searchedValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    })\n\n    return fetch(`${BASE_URL}/?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};","import SimpleLightbox from 'simplelightbox';\nexport const createMarkup = imgInfo => {\n  return `\n  <li class=\"gallery-card\">\n    <a class=\"gallery_link\" href =\"${imgInfo.largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" title=\"${imgInfo.tags}\"/>\n    <ul class =\"image-details\">\n    <p>Likes<span>${imgInfo.likes}</span></p>\n    <p>Views<span>${imgInfo.views}</span></p>\n    <p>Commets<span>${imgInfo.comments}</span></p>\n    <p>Downloads<span>${imgInfo.downloads}</span></p>\n    </ul>\n    </a>\n  </li>\n  `;\n};\n\nexport const lightbox = new SimpleLightbox('.js-gallery a', {\n   animationSpeed: 250\n          });","import iziToast from \"izitoast\";\nimport { fetchPhotos } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\nimport { lightbox } from \"./js/render-functions\";\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryList = document.querySelector('.js-gallery');\nconst formReset = () => searchFormEl.reset();\nconst loader = document.querySelector('.js-loader');\nconst loaderShow = () => {\n    loader.classList.remove('is-hidden');\n}\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    loaderShow();\n  const searchedValue = searchFormEl.elements.user_query.value;\n  fetchPhotos(searchedValue)\n      .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        galleryList.innerHTML = '';\n          formReset();\n\n        return;\n          }\n          galleryList.innerHTML = '';\n      const galleryCreateMarkup = data.hits.map(imgDetails => createMarkup(imgDetails)).join('');\n\n          galleryList.insertAdjacentHTML(\"beforeend\", galleryCreateMarkup);\n          formReset();\n          lightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        message: 'Sorry, something get wrong. Try again later!',\n        position: 'topRight',\n      });\n    })\n      .finally(() => {\n          loader.classList.add('is-hidden');\n    })\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["BASE_URL","fetchPhotos","searchedValue","urlParams","response","createMarkup","imgInfo","lightbox","SimpleLightbox","searchFormEl","galleryList","formReset","loader","loaderShow","onSearchFormSubmit","event","data","iziToast","galleryCreateMarkup","imgDetails","err"],"mappings":"6vBAAA,MAAMA,EAAW,2BAEJC,EAAcC,GAAiB,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAS,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAAeC,GACnB;AAAA;AAAA,qCAE4BA,EAAQ,aAAa;AAAA,oCACtBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI,YAAYA,EAAQ,IAAI;AAAA;AAAA,oBAElFA,EAAQ,KAAK;AAAA,oBACbA,EAAQ,KAAK;AAAA,sBACXA,EAAQ,QAAQ;AAAA,wBACdA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,IAO5BC,EAAW,IAAIC,EAAe,gBAAiB,CACzD,eAAgB,GACnB,CAAW,ECdLC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAY,IAAMF,EAAa,QAC/BG,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAa,IAAM,CACrBD,EAAO,UAAU,OAAO,WAAW,CACvC,EACME,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EACpBF,IACF,MAAMX,EAAgBO,EAAa,SAAS,WAAW,MACvDR,EAAYC,CAAa,EACpB,KAAKc,GAAQ,CACd,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EAEDP,EAAY,UAAY,GACtBC,IAEF,MACG,CACDD,EAAY,UAAY,GAC5B,MAAMQ,EAAsBF,EAAK,KAAK,IAAIG,GAAcd,EAAac,CAAU,CAAC,EAAE,KAAK,EAAE,EAErFT,EAAY,mBAAmB,YAAaQ,CAAmB,EAC/DP,IACAJ,EAAS,QAAO,CAC1B,CAAK,EACA,MAAMa,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfH,EAAS,MAAM,CACb,QAAS,+CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACE,QAAQ,IAAM,CACXL,EAAO,UAAU,IAAI,WAAW,CAC1C,CAAK,CACL,EAEAH,EAAa,iBAAiB,SAAUK,CAAkB"}